digraph SIP_Call_Service {

  // Nodes
  idle_state [ style=filled, shape=ellipse, peripheries=1, fillcolor=green ]
  terminating_state [ style=filled, shape=ellipse, peripheries=1, fillcolor=green ]
  ready_state [ style=filled, shape=ellipse, peripheries=1, fillcolor=green ]
  ring_state [ style=filled, shape=ellipse, peripheries=1, fillcolor=green ]
  cancel_state [ style=filled, shape=ellipse, peripheries=1, fillcolor=green ]
  init_state [ style=filled, shape=ellipse, peripheries=1, fillcolor=green ]
  calling_state [ style=filled, shape=ellipse, peripheries=1, fillcolor=green ]
  wait_response_state [ style=filled, shape=ellipse, peripheries=1, fillcolor=green ]

  // Transitions
  idle_state -> init_state [ label="receive_message('${OFFHOOK_SIGNAL}',)", tooltip="receive_message('${OFFHOOK_SIGNAL}',)",color="green"]
  init_state -> calling_state [ label="receive_message('${CALLING_SIGNAL}',)", tooltip="receive_message('${CALLING_SIGNAL}',)",color="green"]
  calling_state -> terminating_state [ label="receive_message('${TIMEOUTB}',)", tooltip="receive_message('${TIMEOUTB}',)",color="green"]
  calling_state -> terminating_state [ label="receive_message('${TIMEOUTA}',)", tooltip="receive_message('${TIMEOUTA}',)",color="green"]
  calling_state -> ring_state [ label="receive_message('${CALL_PROCEEDING}',)", tooltip="receive_message('${CALL_PROCEEDING}',)",color="green"]
  calling_state -> cancel_state [ label="receive_message('${REJECT}',)", tooltip="receive_message('${REJECT}',)",color="green"]
  terminating_state -> idle_state [ label="receive_message('${200_BYE}',)", tooltip="receive_message('${200_BYE}',)",color="green"]
  cancel_state -> wait_response_state [ label="receive_message('${200_Cancel}',)", tooltip="receive_message('${200_Cancel}',)",color="green"]
  ring_state -> ready_state [ label="receive_message('${200}',)", tooltip="receive_message('${200}',)",color="green"]
  ring_state -> idle_state [ label="receive_message('${REJECT}',)", tooltip="receive_message('${REJECT}',)",color="green"]
  ring_state -> cancel_state [ label="receive_message('${CANCEL}',)", tooltip="receive_message('${CANCEL}',)",color="green"]
  ready_state -> idle_state [ label="receive_message('${BYE}',)", tooltip="receive_message('${BYE}',)",color="green"]
  wait_response_state -> idle_state [ label="receive_message('${487_Invite}',)", tooltip="receive_message('${487_Invite}',)",color="green"]
}
